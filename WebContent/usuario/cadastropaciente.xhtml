<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
	<title>CensoHGP | Cadastro de Paciente</title>
	<!-- Required meta tags -->
	<meta charset="utf-8" />
	<meta name="viewport"
		content="width=device-width, initial-scale=1, shrink-to-fit=no" />

	<!-- Bootstrap CSS -->
	<h:outputStylesheet library="css" name="bootstrap.min.css" />
	<h:outputStylesheet name="primeicons/primeicons.css"
		library="primefaces" />
	<!-- Costumize CSS -->
	<h:outputStylesheet library="css" name="template.css" />
	<link rel="shortcut icon" type="image/x-icon"
		href="#{resource['images/icon.png']}" />
</h:head>
<h:body>
	<p:sidebar widgetVar="sidebar1" baseZIndex="10000" id="sidebar"
		class="bg-dark mt-0 text-white wrapper">


		<div class="bg-dark mt-0 text-white wrapper" id="sidebar">

			<nav id="sidebar">
			<div class="sidebar-header ">
				<h3 class="font-weight-bold">Menu</h3>
			</div>

			<ul class="list-unstyled components">
				<h:panelGrid columns="2">
					<h:graphicImage class="ml-2 pb-3 mr-2" width="30px"
						library="images" name="usu.png" />
					<h:form>
						<h:outputLabel value=" #{templateController.usuarioLogado.nome}"
							class="font-weight-bold mb-3" />

					</h:form>
				</h:panelGrid>
				<li><a href="index.xhtml">Início</a></li>
				<li class="active"><a href="cadastropaciente.xhtml">Cadastrar
						Paciente</a></li>
				<li><a href="buscarpaciente.xhtml">Buscar Paciente</a></li>
				<li><a href="consultadepartamento.xhtml">Buscar
						Departamento</a></li>
				<li><a href="transferencia.xhtml">Transferir Paciente</a></li>
				<li><a href="checklistpaciente.xhtml">Gerar Checklist</a></li>
				<li><h:commandLink value="Sair"
						action="#{templateController.encerrarSessao}" class="nav-link" /></li>

			</ul>


			</nav>
		</div>



	</p:sidebar>

	<h:form id="form">
		<table width="100%">


			<tr>
				<td colspan="2" align="center" class="mar"><ui:insert
						name="cabecalho">
						<h:form>

							<div class="navbar navbar-dark bg-navbar navbar-expand">
								<div class="container collapse navbar-collapse">
									<p:commandLink oncomplete="PF('sidebar1').show()"
										styleClass="mx-3 pt-1 button-menu">
										<span><i class="pi pi-bars"
											style="font-size: 2.5em; color: #fff;"></i></span>
									</p:commandLink>
									<div class="navbar-brand font-weight-bold ">CensoHGP</div>
									<ul class="navbar-nav mr-auto mt-2 mt-lg-0">

										<li class="nav-item"><a href="buscarpaciente.xhtml"
											class="nav-link">Consultar Pacientes</a></li>

									</ul>

								</div>
							</div>
						</h:form>
					</ui:insert></td>
			</tr>

			<tr>
				<td valign="top"
					class="pt-5  content active mar d-flex justify-content-start"><ui:insert
						name="conteudo">
						<div class="container d-flex justify-content-start">
							<h:form id="formPrincipal" class="">
								<h:messages id="messages" infoStyle="color:green"
									warnStyle="color:orange" errorStyle="color:red"
									globalOnly="false" />

								<div>
									<div class="border-left mb-4 ml-3">
										<h4 class="ml-3 py-2 font-weight-bold">Cadastro de
											Paciente</h4>
									</div>
									<div class="mt-3 ml-4">
										<h:form id="formPrincipal">
											<center>

												<h:panelGrid columns="1" id="panelPrincipal">
													<p:fieldset legend="Dados Pessoais"
														style="border: 2px solid black; margin-bottom:20px;">

														<h:panelGrid columns="2">

															<h:panelGrid columns="2">

																<h:outputLabel style="font-weight: bold;" value="Nome: " />
																<h:inputText id="inputNome"
																	value="#{cadastroPacienteController.paciente.nome}" />
																<h:outputLabel style="font-weight: bold;" value="CPF: " />
																<h:inputText id="inpuCpf"
																	value="#{cadastroPacienteController.paciente.cpf}"
																	requiredMessage="O campo cpf não pode ser nulo.">
																</h:inputText>
																<h:outputLabel style="font-weight: bold;" value="RG: " />
																<h:inputText
																	value="#{cadastroPacienteController.paciente.rg}" />
															</h:panelGrid>

															<h:panelGrid columns="2" style="margin-left: 100px;">
																<h:outputLabel style="font-weight: bold;"
																	value="Nome da Mãe: " />
																<h:inputText
																	value="#{cadastroPacienteController.paciente.nomeMae}" />
																<h:outputLabel style="font-weight: bold;"
																	value="Data de Nascimento: " />
																<h:inputText
																	value="#{cadastroPacienteController.paciente.dataNascimento}">
																	<f:convertDateTime type="localDate"
																		pattern="dd/MM/yyyy" />
																</h:inputText>
																<h:outputLabel style="font-weight: bold;"
																	value="Sexo do paciente: " />
																<h:selectOneMenu class="btn btn-dark"
																	converter="omnifaces.SelectItemsConverter"
																	value="#{cadastroPacienteController.paciente.sexo}">
																	<f:selectItem itemLabel="Selecione o sexo" />
																	<f:selectItems
																		value="#{cadastroPacienteController.listaSexo}"
																		var="obj" itemValue="#{obj}" itemLabel="#{obj.nome}" />
																</h:selectOneMenu>


															</h:panelGrid>

														</h:panelGrid>
														<br />
													</p:fieldset>

													<p:fieldset legend="Complementos"
														style="border: 2px solid black; margin-bottom:20px;">
														<h:panelGrid columns="3">
															<h:panelGrid columns="1">
																<h:outputLabel style="font-weight: bold;"
																	value="Número do Prontuário: " />
																<h:inputText
																	value="#{cadastroPacienteController.paciente.numeroProntuario}" />
																<h:outputLabel style="font-weight: bold;"
																	value="Observações: " />
																<h:inputTextarea style="heigth: 50px; width: 202px;"
																	value="#{cadastroPacienteController.paciente.observacao}" />

															</h:panelGrid>

															<h:panelGrid columns="2">
																<h:outputLabel style="font-weight: bold;"
																	value="Situação do paciente: " />
																<h:selectOneMenu class="btn btn-dark"
																	converter="omnifaces.SelectItemsConverter"
																	value="#{cadastroPacienteController.paciente.situacao}">
																	<f:selectItem itemLabel="Selecione ...." />
																	<f:selectItems
																		value="#{cadastroPacienteController.listaSituacao}"
																		var="obj" itemValue="#{obj}" itemLabel="#{obj.nome}" />
																</h:selectOneMenu>
																<h:outputLabel style="font-weight: bold;"
																	value="Departamento: " />
																<h:selectOneMenu class="btn btn-dark"
																	converter="omnifaces.SelectItemsConverter"
																	value="#{cadastroPacienteController.paciente.idlocalTransferencia}">
																	<f:selectItem itemLabel="Selecione ...." />
																	<f:selectItems
																		value="#{cadastroPacienteController.listaDepartamento}"
																		var="obj" itemValue="#{obj}" itemLabel="#{obj.nome}" />
																</h:selectOneMenu>
															</h:panelGrid>
															<br />
															<h:panelGrid columns="1">
																<h:outputLabel style="font-weight: bold;"
																	value="Precauções: " />
																<h:selectManyCheckbox
																	converter="omnifaces.SelectItemsConverter"
																	value="#{cadastroPacienteController.paciente.precaucoes}">
																	<f:selectItems style="text-align: center;"
																		value="#{cadastroPacienteController.listaprecaucao}"
																		var="obj" itemValue="#{obj}" itemLabel="#{obj.nome}" />
																</h:selectManyCheckbox>
															</h:panelGrid>

														</h:panelGrid>
														<h:panelGrid
															style="position:absolute; right:560px; top: 800px; margin:10px;"
															id="panelBotoes" columns="4">
															<h:panelGrid>
																<h:commandButton value="Incluir" class="btn btn-dark"
																	disabled="#{cadastroPacienteController.paciente.idpaciente != null}"
																	action="#{cadastroPacienteController.incluir()}">
																	<f:ajax render="formPrincipal" execute="panelPrincipal"
																		resetValues="true" />
																</h:commandButton>
															</h:panelGrid>
															<h:panelGrid></h:panelGrid>
															<h:panelGrid></h:panelGrid>
															<h:panelGrid>
																<h:commandButton value="Excluir " class="btn btn-dark"
																	action="#{cadastroPacienteController.alterar}">
																	<f:ajax render="formPrincipal messages"
																		execute="formPrincipal" />
																</h:commandButton>
															</h:panelGrid>

														</h:panelGrid>
														<br />
														<br />
														<br />
													</p:fieldset>

												</h:panelGrid>

												<br />

											</center>
										</h:form>

									</div>

								</div>


							</h:form>
						</div>




					</ui:insert></td>
			</tr>
		</table>
	</h:form>

	<div class="box footer pt-4 font-weight-lighter "
		style="text-align: center;">
		<h:outputText value="2020 - Todos os direitos reservados." />
	</div>

	<script>
		function goBack() {
			window.history.back();
		}
	</script>
</h:body>
</html>